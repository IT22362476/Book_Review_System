{"ast":null,"code":"var _jsxFileName = \"/Users/denuwansathsara/Documents/Assignment/test/Frontend/src/Components/Addbooks.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddBookForm = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    title: \"\",\n    author: \"\",\n    image: null // File object for uploads\n  });\n  const [message, setMessage] = useState(\"\");\n\n  // Handle input changes for text fields\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  // Handle file input changes\n  const handleFileChange = e => {\n    setFormData(prevData => ({\n      ...prevData,\n      image: e.target.files[0] // Save the selected file\n    }));\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage(\"\"); // Clear any previous messages\n\n    const formDataToSend = new FormData();\n    formDataToSend.append(\"title\", formData.title);\n    formDataToSend.append(\"author\", formData.author);\n    formDataToSend.append(\"image\", formData.image);\n    try {\n      const response = await axios.post(\"http://localhost:5000/books/add\", formDataToSend, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setMessage(response.data.message); // Success message\n      setFormData({\n        title: \"\",\n        author: \"\",\n        image: null\n      }); // Reset form\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"An error occurred while adding the book.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-center mb-6\",\n      children: \"Add a New Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 font-medium mb-2\",\n          htmlFor: \"title\",\n          children: \"Book Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          name: \"title\",\n          value: formData.title,\n          onChange: handleChange,\n          placeholder: \"Enter book title\",\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 font-medium mb-2\",\n          htmlFor: \"author\",\n          children: \"Author\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"author\",\n          name: \"author\",\n          value: formData.author,\n          onChange: handleChange,\n          placeholder: \"Enter author's name\",\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 font-medium mb-2\",\n          htmlFor: \"image\",\n          children: \"Book Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"image\",\n          name: \"image\",\n          accept: \"image/*\",\n          onChange: handleFileChange,\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition\",\n        children: \"Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mt-4 text-center ${message.includes(\"successfully\") ? \"text-green-500\" : \"text-red-500\"}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(AddBookForm, \"pMcRDSdJjpup2sGcoSp81U1sf1I=\");\n_c = AddBookForm;\nexport default AddBookForm;\nvar _c;\n$RefreshReg$(_c, \"AddBookForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AddBookForm","_s","formData","setFormData","title","author","image","message","setMessage","handleChange","e","name","value","target","prevData","handleFileChange","files","handleSubmit","preventDefault","formDataToSend","FormData","append","response","post","headers","data","error","_error$response","_error$response$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","placeholder","required","accept","includes","_c","$RefreshReg$"],"sources":["/Users/denuwansathsara/Documents/Assignment/test/Frontend/src/Components/Addbooks.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst AddBookForm = () => {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    author: \"\",\n    image: null, // File object for uploads\n  });\n\n  const [message, setMessage] = useState(\"\");\n\n  // Handle input changes for text fields\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  // Handle file input changes\n  const handleFileChange = (e) => {\n    setFormData((prevData) => ({\n      ...prevData,\n      image: e.target.files[0], // Save the selected file\n    }));\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(\"\"); // Clear any previous messages\n\n    const formDataToSend = new FormData();\n    formDataToSend.append(\"title\", formData.title);\n    formDataToSend.append(\"author\", formData.author);\n    formDataToSend.append(\"image\", formData.image);\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/books/add\", formDataToSend, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      setMessage(response.data.message); // Success message\n      setFormData({ title: \"\", author: \"\", image: null }); // Reset form\n    } catch (error) {\n      setMessage(error.response?.data?.error || \"An error occurred while adding the book.\");\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg\">\n      <h1 className=\"text-2xl font-bold text-center mb-6\">Add a New Book</h1>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Title Field */}\n        <div>\n          <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"title\">\n            Book Title\n          </label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={formData.title}\n            onChange={handleChange}\n            placeholder=\"Enter book title\"\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            required\n          />\n        </div>\n\n        {/* Author Field */}\n        <div>\n          <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"author\">\n            Author\n          </label>\n          <input\n            type=\"text\"\n            id=\"author\"\n            name=\"author\"\n            value={formData.author}\n            onChange={handleChange}\n            placeholder=\"Enter author's name\"\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            required\n          />\n        </div>\n\n        {/* Image File Input */}\n        <div>\n          <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"image\">\n            Book Image\n          </label>\n          <input\n            type=\"file\"\n            id=\"image\"\n            name=\"image\"\n            accept=\"image/*\"\n            onChange={handleFileChange}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            required\n          />\n        </div>\n\n        {/* Submit Button */}\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition\"\n        >\n          Add Book\n        </button>\n      </form>\n\n      {/* Success/Error Message */}\n      {message && (\n        <p className={`mt-4 text-center ${message.includes(\"successfully\") ? \"text-green-500\" : \"text-red-500\"}`}>\n          {message}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default AddBookForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}